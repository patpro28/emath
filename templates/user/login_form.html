<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
    integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="{% static 'components/transition.min.css' %}"/>
  <link rel="stylesheet" href="{% static 'style.css' %}?v=12123" />
  <link rel="stylesheet" href="{% static 'components/toast.min.css' %}" />
  <title>Login</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

    html {
      font-family: 'Poppins', sans-serif;
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fomantic-ui/2.8.8/components/transition.min.js" integrity="sha512-YKv9jhCJ4S5fNeKwyCHfwI2uLEhekfSOdunDd+xPYaiipsBvywP4ZIpXgyYUN884a/CnI4tNKMA9bs/YqdXU8Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fomantic-ui/2.8.8/components/toast.min.js" integrity="sha512-r3EKTA05GOQyYSORYBT5yzjv2nRI+6K3gx2kGMUviQyWxW/FEnzrzw+DBt86XLWKqAcziPMIyly5BUbBZGmkhg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<body>
  <div
    class="bg-no-repeat h-full bg-cover bg-center md:bg-[url(https://media.idownloadblog.com/wp-content/uploads/2021/10/Waves-wallpaper-Arthur1992aS-iDownloadBlog-V5-sample.png)]">
    <div class="w-full h-screen m-auto lg:grid lg:grid-cols-2">
      <div class="hidden w-full h-full grid-rows-3 lg:grid">
        <div class="">
          <a href="{% url 'education:home' %}" class="flex items-center p-2 pb-0 md:pt-8 md:pl-8 lg:mt-4 lg:pt-0">
            <img class="w-6 h-6 m-2 mb-0 md:h-10 md:w-10" src="{% static 'icons/emath.png' %}" alt="" />
            <div class="mt-2 text-lg font-semibold text-white md:text-2xl">
              Emath
            </div>
          </a>
        </div>

        <div class="hidden lg:m-auto md:mt-20 md:inline lg:flex lg:flex-col lg:items-center">
          <div class="text-5xl font-semibold text-white ">
            Welcome To Emath
          </div>
          <div class="mt-2 text-lg text-white">
            Sign in to continue access
          </div>
        </div>
      </div>
      <div class="flex flex-col sticky md:hidden left-0 top-0 w-full max-h-16 transition-[max-height] duration-200 overflow-hidden z-50">
        <div class="flex items-center justify-between p-2 bg-black">
          <a class="flex items-center" href="/">
            <img src="{% static 'icons/emath.png' %}" alt="logo" class="w-8 h-8">
            <span class="ml-2 text-xl font-semibold text-white transition duration-400">Emath</span>
          </a>
        </div>
      </div>
      <div class="flex flex-col m-auto md:h-auto">
        <div class="relative py-10 m-auto overflow-hidden text-center bg-white rounded-md lg:shadow-md min-h-fit w-96">
          <div class="">
            <img class="w-24 h-24 mx-auto mt-4 mb-2 rounded-full" src="{% static 'icons/user.png' %}"
              alt="" />
            <div class="block">
              <div class="ml-6 text-lg font-semibold">Hi there!‚úãüèª</div>
              <div class="text-sm font-medium text-gray-400">
                Let's learn something new today!
              </div>
            </div>
          </div>

          <div class="inline-block w-full mt-4">
            <div class="grid grid-cols-2">
              <div class="w-full pl-8 font-medium text-blue-500 border-r-2 cursor-pointer" onclick="transform(0)">
                Login
              </div>
              <div class="w-full pr-8 font-medium text-blue-500 cursor-pointer" onclick="transform(-100)">
                Register
              </div>
            </div>
          </div>

          <div class="w-full overflow-hidden">
            <div class="relative flex transition duration-500 ease-in-out" id="form">
              <div class="basis-full grow shrink-0">
                <form id="LoginForm" class="px-8" action="{% url 'login' %}" method="post">
                  {% csrf_token %}
                  {% if form.errors %}
                  <div class="flex flex-col gap-1 py-2">
                    {% for error in form.non_field_errors %}
                    <div class="text-xs text-red-500">
                      <span>{{ error }}</span>
                    </div>
                    {% endfor %}
                  </div>
                  {% endif %}
                  <div class="relative flex items-center mx-auto mt-4 text-gray-400">
                    <input class="w-full p-3 pl-10 text-sm font-medium border rounded-lg outline-none peer focus:ring-indigo-500 focus:ring-1 focus:border-indigo-500"
                      name="username" type="text" placeholder="Username" />
                    <span class="absolute w-10 h-full pb-3 pt-2.5 left-px peer-focus:text-black">
                      <i class="m-auto fa-solid fa-user fa-lg"></i>
                    </span>
                  </div>
                  <div class="relative flex items-center mx-auto mt-4 text-gray-400">
                    <input class="w-full p-3 pl-10 text-sm font-medium border rounded-lg outline-none peer focus:ring-indigo-500 focus:ring-1 focus:border-indigo-500"
                      name="password" type="password" placeholder="Password" />
                    <span class="absolute w-10 h-full pb-3 pt-2.5 left-px peer-focus:text-black">
                      <i class="m-auto fa-solid fa-lock fa-lg"></i>
                    </span>
                  </div>
                  <div class="flex items-center p-1 mx-auto mt-4 text-sm font-medium text-blue-500">
                    <input class="w-4 h-4 m-2" type="checkbox" id="" name="" value="" />
                    <label for=""> Remember me</label><br />
                  </div>
                  <button type="submit"
                    class="flex justify-center w-full p-2 mx-auto mt-4 font-medium text-white bg-blue-500 rounded-lg">
                    Log In
                  </button>
                </form>
              </div>

              <div class="basis-full grow shrink-0">
                <form id="RegisterForm" class="px-8" action="{% url 'register' %}" method="post">
                  {% csrf_token %}
                  <div class="relative flex flex-col mx-auto mt-4 text-gray-400">
                    <input class="w-full p-3 pl-10 text-sm font-medium border rounded-lg outline-none peer focus:ring-indigo-500 focus:ring-1 focus:border-indigo-500"
                      name="username" type="text" placeholder="Username" />
                    <span class="absolute w-10 h-full pb-3 pt-2.5 left-px peer-focus:text-black">
                      <i class="m-auto fa-solid fa-user fa-lg"></i>
                    </span>
                    {% if form.username.errors %}
                    <div class="flex flex-col items-start text-xs text-red-500">
                      {% for error in form.username.errors %}
                      <span class="text-start">{{ error }}</span>
                      {% endfor %}
                    </div>
                    {% endif %}
                  </div>
                  <div class="relative flex flex-col mx-auto mt-4 text-gray-400">
                    <input class="w-full p-3 pl-10 text-sm font-medium border rounded-lg outline-none peer focus:ring-indigo-500 focus:ring-1 focus:border-indigo-500"
                      name="password1" type="password" placeholder="Password" />
                    <span class="absolute w-10 h-full pb-3 pt-2.5 left-px peer-focus:text-black">
                      <i class="m-auto fa-solid fa-lock fa-lg"></i>
                    </span>
                    {% if form.password1.errors %}
                    <div class="flex flex-col items-start text-xs text-red-500">
                      {% for error in form.password1.errors %}
                      <span>{{ error }}</span>
                      {% endfor %}
                    </div>
                    {% endif %}
                  </div>
                  <div class="relative flex flex-col mx-auto mt-4 text-gray-400">
                    <input class="w-full p-3 pl-10 text-sm font-medium border rounded-lg outline-none peer focus:ring-indigo-500 focus:ring-1 focus:border-indigo-500"
                      name="password2" type="password" placeholder="Re-password" />
                    <span class="absolute w-10 h-full pb-3 pt-2.5 left-px peer-focus:text-black">
                      <i class="m-auto fa-solid fa-lock fa-lg"></i>
                    </span>
                    {% if form.password2.errors %}
                    <div class="flex flex-col items-start text-xs text-red-500">
                      {% for error in form.password2.errors %}
                      <span>{{ error }}</span>
                      {% endfor %}
                    </div>
                    {% endif %}
                  </div>
                  <button type="submit"
                    class="flex justify-center w-full p-2 mx-auto mt-4 font-medium text-white bg-blue-500 rounded-lg">
                    Register
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    const form = document.querySelector('#form')
    function transform(value) {
      form.style = `transform: translateX(${value}%)`
    }
    {% if not login %}
    transform(-100);
    {% endif %}
    {% if messages %}
    {% for message in messages %}
    $('body').toast({
      class: '{{ message.tags|default:"success"}}',
      message: '{{ message }}'
    })
    {% endfor %}
    {% endif %}
  </script>
</body>

</html>